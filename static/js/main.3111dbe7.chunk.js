(this["webpackJsonpcloud-games-front-end"]=this["webpackJsonpcloud-games-front-end"]||[]).push([[0],{48:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyAIugJFMJTjoOsFAZxCxAuP7UpSts7Due8","authDomain":"cloudboardgames.firebaseapp.com","databaseURL":"https://cloudboardgames.firebaseio.com","projectId":"cloudboardgames","storageBucket":"cloudboardgames.appspot.com","messagingSenderId":"916102323278","appId":"1:916102323278:web:3d03af6fad11466261371f","measurementId":"G-C5KNXJSQ2G","production":false}')},60:function(e,t,a){e.exports=a(75)},65:function(e,t,a){},66:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(13),s=a.n(o),c=(a(65),a(66),a(19)),l=a(20),u=a(16),i=a(26),d=a(24),b=a(43),h=a(48),m=a(105),p=a(109),v=a(110),f=a(111),y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,{position:"static"},r.a.createElement(p.a,null,r.a.createElement(v.a,{justify:"space-between",container:!0},r.a.createElement(v.a,{item:!0},r.a.createElement(f.a,{variant:"h6"},"Cloud Games")),r.a.createElement(v.a,{item:!0})))))}}]),a}(n.Component),k=a(18),C=a.n(k),g=a(31),j=a(112),E=a(113),O=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"requestCreateLobby",value:function(){var e=Object(g.a)(C.a.mark((function e(t,a){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userId:t,gameType:a},console.log("create API Utils call"),e.next=4,this.putRequest("https://us-central1-cloudboardgames.cloudfunctions.net/createNewLobby",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"requestJoinLobby",value:function(){var e=Object(g.a)(C.a.mark((function e(t,a){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userId:t,lobbyCode:a},e.next=3,this.putRequest("https://us-central1-cloudboardgames.cloudfunctions.net/joinLobby",n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"putRequest",value:function(){var e=Object(g.a)(C.a.mark((function e(t,a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("create putRequest call on url: "+t),"https://cors-anywhere.herokuapp.com/",e.next=4,fetch("https://cors-anywhere.herokuapp.com/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(){return console.log("Can\u2019t access "+t+" response. Blocked by browser?")}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),I=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={roomCode:"",selectedGame:"COLEBOXGAMES"},n.handleUserIdChange=n.handleUserIdChange.bind(Object(u.a)(n)),n.handleRoomCodeChange=n.handleRoomCodeChange.bind(Object(u.a)(n)),n.handleSelectedGameChange=n.handleSelectedGameChange.bind(Object(u.a)(n)),n.handleJoinLobbyButtonPress=n.handleJoinLobbyButtonPress.bind(Object(u.a)(n)),n.handleCreateLobbyButtonPress=n.handleCreateLobbyButtonPress.bind(Object(u.a)(n)),n.createLobby=n.createLobby.bind(Object(u.a)(n)),n.joinLobby=n.joinLobby.bind(Object(u.a)(n)),n.validateUserId=n.validateUserId.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Create Id"),r.a.createElement("div",null,r.a.createElement(j.a,{variant:"outlined",required:!0,error:!this.validateUserId(this.props.userId),label:"User Id",value:this.props.userId,onChange:this.handleUserIdChange})),r.a.createElement("h3",null,"Join Lobby"),r.a.createElement("div",null,r.a.createElement(j.a,{variant:"outlined",label:"Room Code",value:this.state.roomCode,onChange:this.handleRoomCodeChange})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"outlined",disabled:!this.validateUserId(this.props.userId),onClick:this.handleJoinLobbyButtonPress},"Join"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h3",null,"Create Lobby"),r.a.createElement("div",null,r.a.createElement("select",{name:"createLobbyPicker",onChange:this.handleSelectedGameChange},r.a.createElement("option",{value:"COLEBOXGAMES"},"Cole Box Games"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"outlined",disabled:!this.validateUserId(this.props.userId),onClick:this.handleCreateLobbyButtonPress},"Create"))))}},{key:"handleUserIdChange",value:function(e){this.props.setUserId(e.target.value)}},{key:"handleRoomCodeChange",value:function(e){this.setState({roomCode:e.target.value})}},{key:"handleSelectedGameChange",value:function(e){this.setState({selectedGame:e.target.value})}},{key:"handleCreateLobbyButtonPress",value:function(e){this.createLobby()}},{key:"handleJoinLobbyButtonPress",value:function(e){this.joinLobby(this.state.roomCode)}},{key:"validateUserId",value:function(e){return!!e}},{key:"createLobby",value:function(){var e=Object(g.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.requestCreateLobby(this.props.userId,this.state.selectedGame);case 2:if(!(t=e.sent).success){e.next=8;break}return e.next=6,this.joinLobby(t.data.lobbyCode);case 6:e.next=9;break;case 8:console.log(t.message);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinLobby",value:function(){var e=Object(g.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.requestJoinLobby(this.props.userId,t);case 2:(a=e.sent).success?this.props.setLobbyAccessToken(a.data.accessToken):console.log(a.message);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),L=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.db.ref("lobbies/"+this.props.accessToken).on("value",(function(t){console.log("got an update");var a=t.val();e.setState({data:a})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,"Got a lobby id of ",this.props.accessToken,"!"),r.a.createElement("div",null,r.a.createElement("pre",null,JSON.stringify(this.state.data,null,2))))}}]),a}(n.Component),w=h,S=b.a.initializeApp(w),U=b.a.database(S),x=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={userId:"",gameData:null,lobbyAccessToken:null},n.setUserId=n.setUserId.bind(Object(u.a)(n)),n.setLobbyAccessToken=n.setLobbyAccessToken.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=null;return e=null==this.state.lobbyAccessToken?r.a.createElement(I,{db:U,userId:this.state.userId,setLobbyAccessToken:this.setLobbyAccessToken,setUserId:this.setUserId}):r.a.createElement(L,{db:U,userId:this.state.userId,accessToken:this.state.lobbyAccessToken}),r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"mainContent"},e))}},{key:"setUserId",value:function(e){this.setState({userId:e})}},{key:"setLobbyAccessToken",value:function(e){this.setState({lobbyAccessToken:e})}}]),a}(n.Component);var A=function(){return r.a.createElement(x,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.3111dbe7.chunk.js.map